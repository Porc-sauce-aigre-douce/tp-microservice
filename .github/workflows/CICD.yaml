name: Java CI
run-name: ${{ github.actor }} is running a verification test ðŸš€
on: [push]
jobs: 
    build:
        runs-on: ubuntu-latest

        steps:
        -   name: Checkout code
            uses: actions/checkout@v3
            
        -   name: Set up JDK 11
            uses: actions/setup-java@v3
            with:
                java-version: '11'
                distribution: 'adopt'
                # cache: 'gradle'

        # -   name: Grant execute permission for gradlew
        #     run: chmod +x gradlew

        # -   name: Cache Maven packages
        #     uses: actions/cache@v3
        #     with:
        #         path: ~/.m2
        #         key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}
        #         restore-keys: |
        #             ${{ runner.os }}-maven-

        -   name: Go to file
            run: cd /home/runner/work/tp-microservice/tp-microservice/microserviceFilm

        -   name: Build and test with Maven
            run: mvn clean test